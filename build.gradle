/*
 * CQL Project Gradle 配置
 *
 * 此檔案來源於Gradle
 * Copyright: © 2023 Gradle Inc.
 * License: Gradle軟體授權協議
 * License URL: https://gradle.com/legal/gradle-software-license-agreement/
 * 
 * 本檔案的使用受Gradle軟體授權協議的約束。
 * 更多資訊請參閱: https://gradle.com/legal/gradle-software-license-agreement/
 */

plugins {
  id 'java'
}

repositories {
  mavenCentral()
}

dependencies {
  runtimeOnly 'info.cqframework:cql-to-elm-cli:3.10.0'
}

task cql2elm(type: JavaExec) {
  classpath = sourceSets.main.runtimeClasspath
  main = 'org.cqframework.cql.cql2elm.cli.Main'
  // recommended options based on https://build.fhir.org/ig/HL7/cql-ig/using-elm.html#translation-to-elm
  // but no annotations or locators in order to reduce overall file size
  args '--input', './cql', '--format', 'JSON', '--signatures', 'Overloads', '--disable-list-demotion', '--disable-list-promotion'
}